<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

<style>
  :root{
    --brand:#2da85c; --brand-2:#6ee7b7;
    --radius:16px; --blur:16px;
    --border-light:rgba(0,0,0,.1); --border-dark:rgba(255,255,255,.12);
    --muted-light:#6b7280; --muted-dark:#9ca3af;
  }

  /* ==== Base & background ==== */
  html, body { height:100%; margin:0; }
  body{
    font-family:'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:#111827;
    background:
      radial-gradient(1000px 600px at -10% -20%, rgba(45,168,92,.25), transparent 60%),
      radial-gradient(1000px 600px at 110% 120%, rgba(110,231,183,.20), transparent 60%),
      linear-gradient(180deg, #f8fafc, #eef2f7);
  }
  @media (prefers-color-scheme: dark){
    body{
      color:#e5e7eb;
      background:
        radial-gradient(1200px 600px at -10% -20%, rgba(45,168,92,.22), transparent 60%),
        radial-gradient(1000px 600px at 110% 120%, rgba(110,231,183,.18), transparent 60%),
        linear-gradient(180deg, #0b0f14, #0f1117);
    }
  }

  /* ==== Layout anti-scroll & anti-terpotong ==== */
  .auth-wrap{
    /* gunakan viewport dinamis agar benar-benar pas layar */
    min-height:100dvh; height:100svh;
    display:grid; place-items:center;
    padding:24px;        /* buffer agar shadow kartu tidak mepet tepi */
    overflow:visible;    /* penting: jangan clip shadow */
  }
  @media (max-width:480px){ .auth-wrap{ padding:12px; } }

  .auth-card{
    display:grid; grid-template-columns:1fr 1fr;
    width:min(960px, 100%);
    border-radius:var(--radius);
    background:rgba(255,255,255,.8);
    backdrop-filter:blur(var(--blur)); -webkit-backdrop-filter:blur(var(--blur));
    box-shadow:0 25px 60px rgba(0,0,0,.15);
    border:1px solid rgba(0,0,0,.06);
    overflow:hidden;           /* tetap; konten internal aman */
    isolation:isolate;         /* mencegah blend shadow dengan body */
  }
  @media (prefers-color-scheme: dark){ .auth-card{ background:rgba(20,24,32,.6); border-color:rgba(255,255,255,.06); } }
  @media (max-width:992px){ .auth-card{ grid-template-columns:1fr; } .auth-hero{ display:none; } }

  /* ==== Hero ==== */
  .auth-hero{
    position:relative;
    background:url('https://images.unsplash.com/photo-1521791136064-7986c2920216?q=80&w=1600&auto=format&fit=crop') center/cover no-repeat;
  }
  .auth-hero::after{
    content:""; position:absolute; inset:0;
    background:linear-gradient(135deg, rgba(22,163,74,.92), rgba(16,185,129,.92));
    pointer-events:none;
  }
  .hero-inner{
    position:relative; z-index:1; color:#fff;
    height:100%; padding:56px; display:flex; flex-direction:column;
  }
  .brand-badge{
    background:rgba(255,255,255,.2);
    border:1px solid rgba(255,255,255,.3);
    border-radius:999px; font-weight:600; padding:.4rem .7rem; width:fit-content;
  }
  .hero-inner h2{ font-weight:800; font-size:clamp(1.6rem, 1.3rem + 1vw, 2.3rem); line-height:1.2; margin:1rem 0 .5rem; }
  .hero-sub{ opacity:.9; margin-bottom:1.25rem; max-width:38ch; }
  .hero-points{ list-style:none; padding:0; margin:0; display:grid; gap:.4rem; }
  .hero-points li{ display:flex; align-items:center; gap:.5rem; }
  .hero-footer{ margin-top:auto; opacity:.85; font-size:.9rem; }

  /* ==== Form ==== */
  .auth-main{ padding:3rem 2.5rem; display:flex; flex-direction:column; justify-content:center; }
  .auth-head{ display:flex; align-items:center; gap:.8rem; margin-bottom:1.5rem; }
  .brand-logo{
    width:48px; height:48px; border-radius:12px;
    background:linear-gradient(135deg, var(--brand), var(--brand-2));
    display:grid; place-items:center; font-weight:700; color:#0f1117;
    box-shadow:0 6px 18px rgba(45,168,92,.35);
  }
  .brand-text h5{ font-weight:700; }
  .brand-text small{ color:var(--muted-light); }
  @media (prefers-color-scheme: dark){ .brand-text small{ color:var(--muted-dark); } }

  .auth-form{ display:grid; gap:1rem; }
  .input-field{ display:grid; gap:.5rem; }
  .input-field label{ font-weight:600; }
  .label-row{ display:flex; justify-content:space-between; align-items:center; }

  .field-wrap{
    display:flex; align-items:center; gap:.5rem;
    border:1px solid var(--border-light); border-radius:.75rem;
    padding:.75rem .9rem; background:#fff;
    transition:border .2s, box-shadow .2s, background .2s;
  }
  .field-wrap:focus-within{ border-color:var(--brand); box-shadow:0 0 0 .25rem rgba(45,168,92,.15); background:#fff; }
  .field-wrap input{ 
    flex:1; 
    border:0; 
    outline:0; 
    background:transparent; 
    font-size:1rem; 
    color: #6b7280;
  }
  .field-wrap .eye{ background:transparent; border:0; cursor:pointer; padding:.25rem .35rem; border-radius:8px; }
  .field-wrap .eye:hover{ background:rgba(0,0,0,.05); }
  @media (prefers-color-scheme: dark){
    .field-wrap{ background:#0f1520; border-color:var(--border-dark); color:#e5e7eb; }
    .field-wrap .eye:hover{ background:rgba(255,255,255,.06); }
  }

  /* Error */
  .invalid{ display:none; color:#b91c1c; font-size:.875rem; }
  .has-error .invalid{ display:block; }
  .has-error .field-wrap{ border-color:#dc2626; }

  /* Misc */
  .form-row{ display:flex; justify-content:space-between; align-items:center; margin-top:.25rem; gap:.75rem; }
  .check{ display:flex; align-items:center; gap:.5rem; cursor:pointer; }
  .muted{ color:var(--muted-light); }
  @media (prefers-color-scheme: dark){ .muted{ color:var(--muted-dark); } }
  .link{ color:var(--brand); text-decoration:none; }
  .link:hover{ text-decoration:underline; }

  .btn-primary-hris{
    border:0; border-radius:.75rem;
    background:linear-gradient(135deg, var(--brand), var(--brand-2));
    color:#0f1117; font-weight:700; padding:.85rem 1rem; width:100%;
    box-shadow:0 10px 25px rgba(45,168,92,.35);
    transition:transform .08s ease, filter .2s ease;
  }
  .btn-primary-hris:hover{ filter:brightness(1.05); }
  .btn-primary-hris:active{ transform:translateY(1px); }

  .tos{ font-size:.9rem; text-align:center; margin-top:.75rem; }

  /* Jaga shadow tidak “keiris” di bawah layar */
  .auth-wrap::after{ content:""; display:block; height:1px; }
</style>

<div class="auth-wrap">
  <div class="auth-card">
    <!-- Left Hero -->
    <aside class="auth-hero d-none d-lg-block">
      <div class="hero-inner">
        <span class="badge brand-badge">HRIS Modern</span>
        <h2>Kelola SDM lebih cepat &amp; rapi</h2>
        <p class="hero-sub">Satu portal untuk rekrutmen, absensi, cuti, dan approval — terintegrasi, aman, dan ramah perangkat.</p>
        <ul class="hero-points">
          <li><i class="bi bi-check2-circle"></i> Single Sign-On (SSO) siap integrasi</li>
          <li><i class="bi bi-check2-circle"></i> Dark/Light mode otomatis</li>
          <li><i class="bi bi-check2-circle"></i> Responsif untuk semua device</li>
        </ul>
        <div class="hero-footer">© 2025 HRIS • v1.0</div>
      </div>
    </aside>

    <!-- Right Form -->
    <main class="auth-main">
      <header class="auth-head">
        <div class="brand-logo">HR</div>
        <div class="brand-text">
          <h5 class="mb-0">Masuk</h5>
          <small>Silakan autentikasi untuk melanjutkan</small>
        </div>
      </header>

      <form id="formLogin" class="auth-form" novalidate>
        <div class="input-field">
          <label for="loginUser">Email / Username</label>
          <div class="field-wrap">
            <i class="bi bi-at" aria-hidden="true"></i>
            <input id="loginUser" type="text" placeholder="you@company.com" required autocomplete="username" />
          </div>
          <div class="invalid">Mohon isi email/username yang valid.</div>
        </div>

        <div class="input-field">
          <div class="label-row">
            <label for="loginPass" class="mb-0">Password</label>
            <a href="#" class="muted small">Lupa password?</a>
          </div>
          <div class="field-wrap">
            <i class="bi bi-shield-lock" aria-hidden="true"></i>
            <input id="loginPass" type="password" placeholder="••••••••" required autocomplete="current-password" />
            <button type="button" class="eye" id="togglePass" aria-label="Tampilkan password"><i class="bi bi-eye"></i></button>
          </div>
          <div class="invalid">Password wajib diisi.</div>
        </div>

        <div class="form-row">
          <label class="check">
            <input type="checkbox" id="rememberMe" />
            <span>Ingat saya</span>
          </label>
          <small class="muted">Perlu akun? <a href="#" class="link">Hubungi HR</a></small>
        </div>

        <button class="btn-primary-hris" type="submit">
          <i class="bi bi-box-arrow-in-right me-1"></i> Masuk &amp; Kirim OTP
        </button>

        <p class="tos muted">
          Dengan masuk, Anda menyetujui <a href="#" class="link">Ketentuan Layanan</a> dan <a href="#" class="link">Kebijakan Privasi</a>.
        </p>
      </form>
    </main>
  </div>
</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />

<script>
  // Toggle show/hide password
  const pass = document.getElementById('loginPass');
  document.getElementById('togglePass')?.addEventListener('click', () => {
    const isPwd = pass.getAttribute('type') === 'password';
    pass.setAttribute('type', isPwd ? 'text' : 'password');
  });

  // Langsung redirect ke OTP (tanpa validasi)
  document.getElementById('formLogin').addEventListener('submit', (e) => {
    e.preventDefault();

    // (opsional) simpan nama terakhir untuk keperluan demo
    const user = document.getElementById('loginUser')?.value?.trim() || 'User';
    try { localStorage.setItem('last_demo_user', user); } catch {}

    // efek loading kecil biar terasa natural
    const btn = e.target.querySelector('button[type="submit"]');
    btn.disabled = true;
    btn.innerHTML = '<i class="bi bi-hourglass-split me-1"></i> Memproses...';

    // redirect ke halaman OTP di router SPA
    setTimeout(() => {
      // Gunakan hash agar main.js menangkap dan load pages/otp.html
      location.hash = '#/otp';
      // kalau ingin fallback langsung file statis:
      // location.href = 'otp.html';
    }, 300);
  });
</script>

